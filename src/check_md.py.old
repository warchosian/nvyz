"""Module pour vérifier l'encodage des fichiers Markdown."""

import chardet
import os

def check_md(file_path):
    """Vérifie l'encodage d'un fichier Markdown.
    
    Args:
        file_path (str): Chemin vers le fichier Markdown à vérifier.
    """
    if not os.path.exists(file_path):
        print(f"Erreur: Le fichier {file_path} n'existe pas.")
        return

    with open(file_path, 'rb') as file:
        raw_data = file.read()
        result = chardet.detect(raw_data)

    print(f"Fichier: {file_path}")
    print(f"Encodage détecté: {result['encoding']}")
    print(f"Confiance: {result['confidence']}")

def main(args):
    """Fonction principale pour vérifier l'encodage des fichiers Markdown.
    
    Args:
        args (list): Liste des chemins de fichiers Markdown à vérifier.
    """
    if not args:
        print("Erreur: Aucun fichier spécifié.")
        return

    for file_path in args:
        check_md(file_path)
